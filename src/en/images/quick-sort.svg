<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 300">
  <defs>
    <marker id="arrow" markerUnits="userSpaceOnUse" markerWidth="10" markerHeight="8" refX="6" refY="4" orient="auto">
      <path d="M0,0 L10,4 L0,8 Z" fill="#4a9eff"/>
    </marker>
    <marker id="arrow-green" markerUnits="userSpaceOnUse" markerWidth="10" markerHeight="8" refX="6" refY="4" orient="auto">
      <path d="M0,0 L10,4 L0,8 Z" fill="#5dbe8a"/>
    </marker>
  </defs>

  <!-- L1: Individual number boxes -->
  <rect x="132" y="25" width="44" height="40" rx="6" fill="#2a5e3a" stroke="#5dbe8a" stroke-width="2"/>
  <text x="154" y="51" text-anchor="middle" fill="#fff" font-size="20" font-family="sans-serif" font-weight="bold">5</text>

  <rect x="180" y="25" width="44" height="40" rx="6" fill="#1a3c5e" stroke="#4a9eff" stroke-width="2"/>
  <text x="202" y="51" text-anchor="middle" fill="#fff" font-size="20" font-family="sans-serif" font-weight="bold">3</text>

  <rect x="228" y="25" width="44" height="40" rx="6" fill="#1a3c5e" stroke="#4a9eff" stroke-width="2"/>
  <text x="250" y="51" text-anchor="middle" fill="#fff" font-size="20" font-family="sans-serif" font-weight="bold">8</text>

  <rect x="276" y="25" width="44" height="40" rx="6" fill="#1a3c5e" stroke="#4a9eff" stroke-width="2"/>
  <text x="298" y="51" text-anchor="middle" fill="#fff" font-size="20" font-family="sans-serif" font-weight="bold">1</text>

  <rect x="324" y="25" width="44" height="40" rx="6" fill="#1a3c5e" stroke="#4a9eff" stroke-width="2"/>
  <text x="346" y="51" text-anchor="middle" fill="#fff" font-size="20" font-family="sans-serif" font-weight="bold">2</text>

  <!-- Pivot label -->
  <text x="154" y="18" text-anchor="middle" fill="#5dbe8a" font-size="13" font-family="sans-serif">pivot</text>

  <!-- Partition arrows L1 → L2 -->
  <line x1="210" y1="65" x2="140" y2="118" stroke="#4a9eff" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="250" y1="65" x2="250" y2="118" stroke="#5dbe8a" stroke-width="2" marker-end="url(#arrow-green)"/>
  <line x1="300" y1="65" x2="370" y2="118" stroke="#4a9eff" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Group labels -->
  <text x="120" y="118" text-anchor="middle" fill="#ddd" font-size="13" font-family="sans-serif">&lt; 5</text>
  <text x="250" y="118" text-anchor="middle" fill="#ddd" font-size="13" font-family="sans-serif">= 5</text>
  <text x="380" y="118" text-anchor="middle" fill="#ddd" font-size="13" font-family="sans-serif">&gt; 5</text>

  <!-- L2: Partitioned groups -->
  <rect x="70" y="130" width="100" height="40" rx="8" fill="#1a3c5e" stroke="#4a9eff" stroke-width="2"/>
  <text x="120" y="156" text-anchor="middle" fill="#fff" font-size="18" font-family="sans-serif" font-weight="bold">3  1  2</text>

  <rect x="230" y="130" width="40" height="40" rx="8" fill="#1a3c5e" stroke="#5dbe8a" stroke-width="2"/>
  <text x="250" y="156" text-anchor="middle" fill="#fff" font-size="18" font-family="sans-serif" font-weight="bold">5</text>

  <rect x="360" y="130" width="40" height="40" rx="8" fill="#1a3c5e" stroke="#4a9eff" stroke-width="2"/>
  <text x="380" y="156" text-anchor="middle" fill="#fff" font-size="18" font-family="sans-serif" font-weight="bold">8</text>

  <!-- Combine arrows L2 → L3 -->
  <line x1="140" y1="170" x2="210" y2="223" stroke="#5dbe8a" stroke-width="2" marker-end="url(#arrow-green)"/>
  <line x1="250" y1="170" x2="250" y2="223" stroke="#5dbe8a" stroke-width="2" marker-end="url(#arrow-green)"/>
  <line x1="370" y1="170" x2="300" y2="223" stroke="#5dbe8a" stroke-width="2" marker-end="url(#arrow-green)"/>

  <!-- L3: Sorted result -->
  <rect x="165" y="230" width="170" height="40" rx="8" fill="#1a3c5e" stroke="#5dbe8a" stroke-width="2"/>
  <text x="250" y="256" text-anchor="middle" fill="#fff" font-size="18" font-family="sans-serif" font-weight="bold">1  2  3  5  8</text>

  <!-- Result label -->
  <text x="250" y="288" text-anchor="middle" fill="#5dbe8a" font-size="13" font-family="sans-serif">sorted!</text>
</svg>
